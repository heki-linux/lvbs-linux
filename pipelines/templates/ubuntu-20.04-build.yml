# Template task to prepare the build environment. Things might be not needed
# if an image has these baked in.

steps:
  - bash: |
      set -e
      set -x

      export DEBIAN_FRONTEND=noninteractive

      sudo apt-get update

      command -v docker || sudo apt install -y \
          docker.io containerd runc
      docker -v

      command -v az || (sudo pip3 install azure-cli;
          az extension add --name azure-devops)
      az version

      sudo apt install -y \
        make shellcheck flake8
    displayName: 'Prepare Ubuntu'
